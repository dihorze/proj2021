(this.webpackJsonpproj2021=this.webpackJsonpproj2021||[]).push([[0],{61:function(e,t,n){},62:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(30),o=n.n(a),s=n(31),c=n(7),u=n(0),d=function(e){return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("div",{children:"This is the landing page."}),Object(u.jsx)("div",{children:Object(u.jsx)(s.b,{to:"/main",children:"to Main page"})})]})},l=n(4),h=n(5),f=n(14),p=n(13),v=n(68),y=n(3),g=n(67),m=(n(61),Object(g.a)({btn:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:32,maxWidth:200,backgroundColor:"rgba(255, 128, 0, 0.5)","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","&:hover":{"& $text":{fontSize:18}},"&:active":{"& $text":{transform:"translateY(2px)"}}},text:{fontSize:16,color:"black",textShadow:"1.5px 1.5px 2px dimgray"}}),function(e){var t=e.children,n=e.onClick,r=e.btnStyle,i=e.textStyle;return Object(u.jsx)("div",{className:"btn",style:r,onClick:n,children:Object(u.jsx)("div",{className:"text",style:i,children:t})})}),b=function(){function e(t,n){var r=this;Object(l.a)(this,e),this.x=t,this.y=n,this.add=function(t){return new e(r.x+t.x,r.y+t.y)},this.subtract=function(t){return new e(r.x-t.x,r.y-t.y)}}return Object(h.a)(e,null,[{key:"at",value:function(t,n){return new e(t,n)}},{key:"subtract",value:function(t,n){return new e(t.x-n.x,t.y-n.y)}},{key:"add",value:function(t,n){return new e(t.x+n.x,t.y+n.y)}}]),e}(),O=140,w=198,j=function(e){return e-w},x=b.at(0,1500),C=function(e){return j(e)-75},k=function(e){return j(e)-25},A=function(e){return j(e)+125},S=function(e){return e-w-108},D=b.at(0,2e3),P=function(){var e=Object(r.useState)([window.innerWidth,window.innerHeight]),t=Object(y.a)(e,2),n=t[0],i=t[1];return Object(r.useLayoutEffect)((function(){var e=function(){i([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},E=(n(62),function(e){var t=e.deg,n=e.offsetX,r=e.offsetY,i=e.isHovered,a=e.isSelected,o=e.isEntered,s=e.isExiting;return o?s?"scale(0.01) rotate(0.4turn)":a?"scale(1.3)":i?"translateY(".concat(-r-30,"px) scale(1.3)"):"translateX(".concat(n,"px) rotate(").concat(t,"deg)"):"scale(0.3) rotate(".concat(-t,"deg)")}),N=function(e){if(e.isExiting){var t=e.loc,n=e.refLoc,r=e.width,i=e.height,a=e.innerWidth,o=b.at((null===t||void 0===t?void 0:t.x)-(null===n||void 0===n?void 0:n.x),(null===t||void 0===t?void 0:t.y)-(null===n||void 0===n?void 0:n.y)),s=b.at(r/2,i/2),c=o.add(s),u=b.at(a/2,50).add(s),d=b.at(o.x,-.2*o.x+o.y).add(s),l=b.at(0,.1*o.x-50).add(s);return"path('M ".concat(u.x," ").concat(u.y," C ").concat(l.x," ").concat(l.y,", ").concat(d.x," ").concat(d.y,", ").concat(c.x," ").concat(c.y,"')")}var h=e.loc,f=e.refLoc,p=e.width,v=e.height,y=e.innerWidth,g=b.at((null===h||void 0===h?void 0:h.x)-(null===f||void 0===f?void 0:f.x),(null===h||void 0===h?void 0:h.y)-(null===f||void 0===f?void 0:f.y)),m=b.at(p/2,v/2),O=b.at(-y/2,50).add(m),w=g.add(m),j=b.at(0,-.1*g.x).add(m),x=b.at(0,.1*g.x+g.y).add(m);return"path('M ".concat(O.x," ").concat(O.y," C ").concat(j.x," ").concat(j.y,", ").concat(x.x," ").concat(x.y,", ").concat(w.x," ").concat(w.y,"')")},I=function(e){if(e.isExiting)return"offset-distance ".concat(e.slideOutDuration,"ms ease-in, transform ").concat(e.slideOutDuration,"ms ease-out, opacity ").concat(e.slideOutDuration,"ms ease-in");var t=e.isSelected,n=e.isMoving,r=e.isHovered,i=e.isOnCards,a=e.isAiming,o=e.isEntered,s=e.slideInDuration;return"all "+(a?"300ms":n?"0ms":r?"30ms":t?"100ms":i?"300ms":o?"".concat(s,"ms ease-out"):"100ms linear")},M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.at(0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.at(0,0),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=arguments.length>9&&void 0!==arguments[9]&&arguments[9],h=arguments.length>10&&void 0!==arguments[10]&&arguments[10],f=arguments.length>11&&void 0!==arguments[11]&&arguments[11],p=arguments.length>12&&void 0!==arguments[12]&&arguments[12],v=arguments.length>13&&void 0!==arguments[13]&&arguments[13],y=arguments.length>14&&void 0!==arguments[14]?arguments[14]:b.at(0,0),m=arguments.length>15&&void 0!==arguments[15]?arguments[15]:0,j=arguments.length>16&&void 0!==arguments[16]?arguments[16]:0,x=arguments.length>17&&void 0!==arguments[17]?arguments[17]:0;Object(l.a)(this,e),this.loc=t,this.origin=n,this.width=r,this.height=i,this.deg=a,this.offsetY=o,this.offsetX=s,this.isSelected=c,this.isHovered=u,this.isMoving=d,this.isEntered=h,this.isExiting=f,this.isOnCards=p,this.isAiming=v,this.refLoc=y,this.slideInDuration=m,this.slideOutDuration=j,this.innerWidth=x,this.useStyles=Object(g.a)({card:{opacity:function(e){var t=e.isEntered,n=e.isExiting;return t&&!n?"1":"0"},position:"fixed",top:function(e){var t=e.refLoc;return null===t||void 0===t?void 0:t.y},left:function(e){var t=e.refLoc;return null===t||void 0===t?void 0:t.x},transition:I,transformOrigin:"center",transform:E,zIndex:function(e){var t=e.isHovered,n=e.isSelected;return t||n?"100":"auto"},offsetPath:N,offsetDistance:function(e){var t=e.isEntered,n=e.isExiting;return t&&!n?"100%":"0%"},offsetRotate:"0deg"},cardStatic:{borderRadius:2,width:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return e.width})),height:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return e.height})),padding:7,fontSize:24,fontWeight:"bold",backgroundImage:"url('./assets/card2.png')",backgroundSize:"cover",transition:"transform 0.1s","&:hover":{transform:"scale(1.1)"}},cardStaticNoHover:{borderRadius:2,width:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return e.width})),height:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return e.height})),padding:7,fontSize:24,fontWeight:"bold",backgroundImage:"url('./assets/card2.png')",backgroundSize:"cover"}})}return Object(h.a)(e,[{key:"withCardLocation",value:function(e,t){return this.loc=e,this.refLoc=t,this}},{key:"withSymmetryOrigin",value:function(e){return this.origin=e,this}},{key:"withSize",value:function(e,t){return this.width=e,this.height=t,this}},{key:"withRotateAngle",value:function(e){return this.deg=e,this}},{key:"withOffsets",value:function(e,t){return this.offsetX=t?t.x:0,this.offsetY=e?e.y:0,this}},{key:"withAnimationStates",value:function(e,t,n,r,i,a,o){return this.isSelected=e,this.isHovered=t,this.isMoving=n,this.isEntered=r,this.isExiting=i,this.isOnCards=a,this.isAiming=o,this}},{key:"withAnimationDuration",value:function(e,t){return this.slideInDuration=e,this.slideOutDuration=t,this}},{key:"withScreenSize",value:function(e,t){return this.innerWidth=e,this}},{key:"generateClasses",value:function(){return this.useStyles({loc:this.loc,origin:this.origin,width:this.width,height:this.height,deg:this.deg,offsetY:this.offsetY,offsetX:this.offsetX,isSelected:this.isSelected,isHovered:this.isHovered,isMoving:this.isMoving,isEntered:this.isEntered,isExiting:this.isExiting,isOnCards:this.isOnCards,isAiming:this.isAiming,refLoc:this.refLoc,slideInDuration:this.slideInDuration,slideOutDuration:this.slideOutDuration,innerWidth:this.innerWidth})}}],[{key:"init",value:function(){return new e}}]),e}(),_=function(e){var t=e.width;return"".concat(15*t/O,"pt")},T=function(e){var t=e.title,n=e.width,r=t.length;return"".concat(Math.min(n/r*.85,9*n/O),"pt")},R=function(e){var t=e.width;return"".concat(5*t/O,"pt")},L=function(e){var t=e.description,n=e.width,r=t.length;return"".concat(Math.min(4.1*n/r,8*n/O),"pt")},H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O;Object(l.a)(this,e),this.title=t,this.description=n,this.width=r,this.useStyles=Object(g.a)({ctn:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},firstRow:{width:"100%",height:"13%",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},cost:{fontSize:_,marginLeft:"0%",width:"20%",textAlign:"center",fontWeight:"bolder",color:"darkgreen"},title:{fontSize:T,textAlign:"center",height:"100%",width:"74%",display:"flex",justifyContent:"center",alignItems:"center"},type:{fontSize:R,width:"40%",margin:"2% 25% 1% 0",fontWeight:"bolder",textAlign:"center"},img:{width:"85%",margin:"0 0 9% 0",borderRadius:"1px",border:"1px solid #6e5d3c"},text:{fontSize:L,padding:"5px",width:"91%",margin:"0 5%",textAlign:"justify"}})}return Object(h.a)(e,[{key:"withContent",value:function(e,t){return this.title=e,this.description=t,this}},{key:"withViewportWidth",value:function(e){return this.width=e,this}},{key:"generateClasses",value:function(){return this.useStyles({title:this.title,description:this.description,width:this.width})}}],[{key:"init",value:function(){return new e}}]),e}(),F=M.init(),z=function(e){var t=e.onClick,n=e.onMouseEnter,i=e.onMouseMove,a=e.onMouseLeave,o=e.onMouseDown,s=e.onMouseUp,c=e.loc,d=e.width,l=e.height,h=e.deg,f=e.origin,p=e.hoverOffsets,v=e.offsets,g=e.isSelected,m=e.isHovered,x=e.isOnCards,C=e.isAiming,k=e.card,A=e.slideInProps,S=e.slideOutProps,D=e.children,E=Object(r.useState)(!1),N=Object(y.a)(E,2),I=N[0],M=N[1],_=Object(r.useState)(!1),T=Object(y.a)(_,2),R=T[0],L=T[1],H=Object(r.useState)(!1),z=Object(y.a)(H,2),U=z[0],G=z[1];Object(r.useEffect)((function(){var e,t,n;return A&&(e=setTimeout((function(){M(!0)}),A.delay)),S?t=setTimeout((function(){L(!0)}),S.delay):g?n=setTimeout((function(){return G(!0)}),50):G(!1),function(){clearTimeout(e),clearTimeout(t),clearTimeout(n)}}),[g,A,S]);var Q=P(),Y=Object(y.a)(Q,2),K=Y[0],q=Y[1],V=F.withCardLocation(c,b.at((K-d)/2,j(q))).withRotateAngle(h).withSymmetryOrigin(f).withOffsets(p,v).withSize(O,w).withScreenSize(K,q).withAnimationStates(g,m,U,I,R,x,C).withAnimationDuration((null===A||void 0===A?void 0:A.duration)||400,(null===S||void 0===S?void 0:S.duration)||400).generateClasses();return Object(u.jsx)("div",{className:V.card+" glow-ctn",onClick:t,onMouseEnter:n,onMouseMove:i,onMouseLeave:a,onMouseDown:o,onMouseUp:s,children:k?Object(u.jsx)(W,{loc:b.at(0,0),width:d,height:l,card:k}):D})},W=function(e){var t=e.onClick,n=e.onMouseEnter,r=e.onMouseMove,i=e.onMouseLeave,a=e.onMouseDown,o=e.onMouseUp,s=e.width,c=e.height,d=e.card,l=e.hasHoverEffect,h=e.children,f=F.withSize(s,c).generateClasses(),p=l?f.cardStatic:f.cardStaticNoHover;return Object(u.jsx)("div",{className:p,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onMouseDown:a,onMouseUp:o,children:d?Object(u.jsx)(G,{card:d,width:s}):h})},U=H.init(),G=function(e){var t=e.card,n=e.width,r=t.getTitle(),i=t.getDiscription(),a=t.getType(),o=t.getCost(),s=U.withContent(r,i).withViewportWidth(n).generateClasses();return Object(u.jsxs)("div",{className:s.ctn,children:[Object(u.jsxs)("div",{className:s.firstRow,children:[" ",Object(u.jsx)("div",{className:s.cost,children:o<0?"X":o}),Object(u.jsx)("div",{className:s.title,children:r})]}),Object(u.jsx)("div",{className:s.type,children:a}),Object(u.jsx)("img",{src:t.getUri(),alt:r,className:s.img,draggable:!1}),Object(u.jsx)("div",{className:s.text,children:t.getDiscription()})]})},Q=n(17),Y=i.a.createContext(b.at(0,0)),K=function(e){return function(t){return Object(u.jsx)(Y.Consumer,{children:function(n){return Object(u.jsx)(e,Object(Q.a)({mousePos:n},t))}})}},q=n(43),V=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.floor(1e4*Math.random())+"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"test";Object(l.a)(this,e),this.key=t,this.id=n}return Object(h.a)(e,[{key:"copy",value:function(){return e.init(this.id,this.key)}},{key:"getCost",value:function(){return $[this.id].cost}},{key:"getTitle",value:function(){return $[this.id].title}},{key:"getType",value:function(){return $[this.id].type}},{key:"getUri",value:function(){return $[this.id].uri}},{key:"getLevel",value:function(){return $[this.id].level}},{key:"getDiscription",value:function(){return $[this.id].discription}},{key:"getIsPlayable",value:function(){return $[this.id].isPlayable}},{key:"getIsShred",value:function(){return $[this.id].isShred}},{key:"getIsAiming",value:function(){return $[this.id].isAiming}}],[{key:"fake",value:function(){return new e}},{key:"init",value:function(t,n){var r=new e;return r.id=t,r.key=n,r}}]),e}();V.getCardFromKey=function(e){if(e===X.NONE)return null;var t=e.split("-")[0];return V.init(t,e)};var X={NONE:"NONE",REASONING:"REASONING",REACTING:"REACTING",PREPARATION:"PREPARATION"},B={explain:{id:"explain",title:"Explain",type:X.REASONING,level:"0",uri:"./assets/Explain.png",discription:"Resolve 8 confunsion",cost:1,isPlayable:!0,isShred:!1,isAiming:!0},calm:{id:"calm",title:"Calm",type:X.REACTING,level:"0",uri:"./assets/Calm.png",discription:"Add 8 composure",cost:1,isPlayable:!0,isShred:!1,isAiming:!1},smile_and_nod:{id:"smile_and_nod",title:"Smile and Nod",type:X.REACTING,level:"0",uri:"./assets/Smile_and_nod.png",discription:"Add 6 composure, draw 1 card",cost:1,isPlayable:!0,isShred:!1,isAiming:!1},quick_reference:{id:"quick_reference",title:"Quick Reference",type:X.REASONING,level:"0",uri:"./assets/Quick_reference.png",discription:"Resolve 5 confusion, gain 2 clarity",cost:1,isPlayable:!0,isShred:!1,isAiming:!0},innocence:{id:"innocence",title:"Innocence",type:X.REACTING,level:"1",uri:"./assets/Innocence.png",discription:"Add 13 composure, add 10 confusion for all opponents",cost:1,isPlayable:!0,isShred:!1,isAiming:!1},wait_for_it:{id:"wait_for_it",title:"Wait For It",type:X.REACTING,level:"1",uri:"./assets/Wait_for_it.png",discription:"The damage dealt this turn is transferred to the next turn, start a new turn, shred",cost:0,isPlayable:!0,isShred:!0,isAiming:!1},pardon:{id:"pardon",title:"Pardon",type:X.REACTING,level:"1",uri:"./assets/Pardon.png",discription:"The same move will be performed by your opponents in the next turn, shred",cost:2,isPlayable:!0,isShred:!0,isAiming:!1},pep_talk:{id:"pep_talk",title:"Pep Talk",type:X.REASONING,level:"1",uri:"./assets/Pep_talk.png",discription:"Resolve 25 confusion to people who like your research, shred",cost:1,isPlayable:!0,isShred:!0,isAiming:!1},barrage:{id:"barrage",title:"Barrage",type:X.REASONING,level:"1",uri:"./assets/Barrage.png",discription:"Resolve 6 confusion X times",cost:-1,isPlayable:!0,isShred:!1,isAiming:!0},vehement:{id:"vehement",title:"Vehement",type:X.REASONING,level:"1",uri:"./assets/Vehement.png",discription:"If your motivation is the highest status, resolve 15 confusion and apply 2 impressionable to all opponent",cost:2,isPlayable:!0,isShred:!1,isAiming:!1},adamant:{id:"adamant",title:"Adamant",type:X.REACTING,level:"1",uri:"./assets/Adamant.png",discription:"Add composure equals to your methodology score",cost:0,isPlayable:!0,isShred:!1,isAiming:!1},digest:{id:"digest",title:"Digest",type:X.REASONING,level:"1",uri:"./assets/Digest.png",discription:"Resolve 11 confusion, if the opponent is convinced, gain 5 methodology score, shred",cost:1,isPlayable:!0,isShred:!0,isAiming:!0},toilet_tour:{id:"toilet_tour",title:"Toilet Tour",type:X.PREPARATION,level:"1",uri:"./assets/Toilet_tour.png",discription:"Remove one negative debuff, shred",cost:1,isPlayable:!0,isShred:!0,isAiming:!1},first_of_all:{id:"first_of_all",title:"First of All",type:X.PREPARATION,level:"1",uri:"./assets/First_of_all.png",discription:"Shuffle one Secondly into your hand, shred",cost:1,isPlayable:!0,isShred:!0,isAiming:!1},secondly:{id:"secondly",title:"Secondly",type:X.PREPARATION,level:"1",uri:"./assets/Secondly.png",discription:"Shuffle one Nevertheless into your hand, shred",cost:2,isPlayable:!0,isShred:!0,isAiming:!1},nevertheless:{id:"nevertheless",title:"Nevertheless",type:X.PREPARATION,level:"1",uri:"./assets/Nevertheless.png",discription:"Shuffle one Last But Not Least into your hand, shred",cost:2,isPlayable:!0,isShred:!0,isAiming:!1},last_but_not_least:{id:"last_but_not_least",title:"Last_but_not_least",type:X.PREPARATION,level:"1",uri:"./assets/Last_but_not_least.png",discription:"At the end of your turn, all opponents reduce confusion equal to your motivation",cost:2,isPlayable:!0,isShred:!0,isAiming:!1}},$=Object(Q.a)({},B),J=Object.keys($),Z=function(){var e=Math.floor(Math.random()*J.length);return J[e]},ee=function(e){for(var t=[],n=0;n<e;n++){var r=Z();t.push(V.init(r,"".concat(r,"-ex-").concat(Math.floor(1e4*Math.random()))))}return t},te=n(9),ne=n(6),re=n.n(ne),ie=n(22),ae=n(15),oe=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n?e:Object(ie.a)(e),i=r.length;0!==i;){t=Math.floor(Math.random()*i),i--;var a=[r[t],r[i]];r[i]=a[0],r[t]=a[1]}return r},se=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ce="SLIDE_TO_HAND",ue="SLIDE_FROM_HAND",de="FLY_OUT",le="SHRED",he="SHUFFLE_DISCARD_TO_DRAW",fe="ACTIVATE_AIMING_CARD",pe="ADD_ONE_CARD",ve="ADD_MANY_CARDS",ye="DELETE_ALL_CARDS",ge="DELETE_ONE_CARDS",me="SELECT_CARD",be="UNSELECT_CARD",Oe="SET_AIMING_CARD",we="SET_HOVERED_CARD",je="CLEAR_HOVERED_CARD",xe="ADD_CARDS_TO_HAND",Ce="DELETE_CARDS_FROM_HAND",ke="ADD_CARDS_TO_DRAW_PILE",Ae="DELETE_CARDS_FROM_DRAW_PILE",Se="ADD_CARDS_TO_DISCARD_PILE",De="DELETE_CARDS_FROM_DISCARD_PILE",Pe="ADD_CARDS_TO_SHRED_PILE",Ee="DELETE_CARDS_FROM_SHRED_PILE",Ne="INCREMENT_ROUND",Ie="INCREMENT_SHUFFLE",Me="TOGGLE_DRAW_PILE",_e="TOGGLE_DISCARD_PILE",Te="TOGGLE_SHRED_PILE",Re="LOCK_CARD_TABLE",Le="UNLOCK_CARD_TABLE",He="ENQUEUE_ACTION_QUEUE",Fe="DEQUEUE_ACTION_QUEUE",ze="PLAY_ANIMATION",We="REMOVE_SLIDE_IN_ANIMATION",Ue="REMOVE_SLIDE_OUT_ANIMATION",Ge="REMOVE_FLY_OUT_ANIMATION",Qe="REMOVE_SHRED_ANIMATION",Ye="REMOVE_SHUFFLE_DISCARD_TO_DRAW_ANIMATION",Ke="ADD_ONE_CARD_TO_DECK",qe="TOGGLE_DECK_OF_CARDS",Ve="TOGGLE_CARD_SELECTION_PAGE",Xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){var n=Object(ae.a)(re.a.mark((function n(r,i){return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:ze,animation:e}),n.next=3,se(t);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Be=function(e){return{type:We,key:e}},$e=function(e){return{type:Ue,key:e}},Je=function(e){return{type:Qe,key:e}},Ze=function(e){return{type:Ge,key:e}},et=function(){return{type:Ye}},tt=function(e){return{type:me,key:e}},nt=function(){return{type:be}},rt=function(e){return function(t,n){return Promise.resolve().then((function(){t({type:xe,cards:e})}))}},it=function(e){return function(t,n){return Promise.resolve().then((function(){t({type:Ce,keys:e})}))}},at=function(e){return function(t,n){return Promise.resolve().then((function(){t({type:ke,cards:e})}))}},ot=function(e){return function(t,n){return Promise.resolve().then((function(){t({type:Ae,keys:e})}))}},st=function(e){return function(t,n){return Promise.resolve().then((function(){t({type:Se,cards:e})}))}},ct=function(e){return function(t,n){return Promise.resolve().then((function(){t({type:De,keys:e})}))}},ut=function(e){return function(t,n){return Promise.resolve().then((function(){t({type:Pe,cards:e})}))}},dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;return function(){var r=Object(ae.a)(re.a.mark((function r(i,a){var o,s;return re.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=Object(ie.a)(a().battle.card.cards),r.next=3,i(rt(e));case 3:return s={type:ce,payload:{cardsToAdd:e,cards:o,duration:n,delay:t}},r.next=6,i(Xe(s,t*e.length+n));case 6:e.forEach((function(e){return i(Be(e.key))}));case 7:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},lt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:750;return function(){var r=Object(ae.a)(re.a.mark((function r(i,a){var o,s;return re.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=Object(ie.a)(a().battle.card.cards),s={type:ue,payload:{keysToDelete:e,cards:o,delay:t,duration:n}},r.next=4,i(Xe(s,t+n));case 4:return e.forEach((function(e){return i($e(e))})),r.next=7,i(it(e));case 7:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},ht=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(){var n=Object(ae.a)(re.a.mark((function n(r,i){var a,o,s,c,u,d,l,h,f;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=i(),o=a.battle,s=a.player,c=Object(ie.a)(o.card.drawPileCards),u=s.player.maxCardsInHand,d=o.card.cards.length,l=c.length,t=t<0?s.player.cardsPerTurn:t,!(l<=0&&o.card.discardPileCards.length<=0)){n.next=8;break}return n.abrupt("return");case 8:if(h=[],!((f=Math.min(t,l))>0)){n.next=27;break}return d+f<=u?(h.push.apply(h,Object(ie.a)(c.slice(0,f))),t-=f,d+=f,l-=f):(h.push.apply(h,Object(ie.a)(c.slice(0,u-d))),t-=u-d,l-=u-(d=u)),n.next=14,r(ot(h.map((function(e){return e.key}))));case 14:if(!(t>0&&d<u)){n.next=23;break}if(r(dt(h)),!(o.card.discardPileCards.length>0)){n.next=19;break}return n.next=19,r(ft());case 19:return n.next=21,r(e(t));case 21:n.next=25;break;case 23:return n.next=25,r(dt(h));case 25:n.next=33;break;case 27:if(!(t>0&&d<u)){n.next=33;break}if(!(o.card.discardPileCards.length>0)){n.next=31;break}return n.next=31,r(ft());case 31:return n.next=33,r(e(t));case 33:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return function(){var n=Object(ae.a)(re.a.mark((function n(r,i){var a,o,s,c;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=i(),o=a.battle,s=oe(Object(ie.a)(o.card.discardPileCards)),r(wt()),n.next=5,r(ct(s.map((function(e){return e.key}))));case 5:return c={type:he,payload:{duration:e,delay:t,noCards:s.length}},n.next=8,r(Xe(c,t+e));case 8:return r(et()),n.next=11,r(at(s));case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},pt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(){var n=Object(ae.a)(re.a.mark((function n(r,i){var a,o;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e?i().battle.card.cards:t,0!==(o=a.map((function(e){return e.key}))).length){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,r(lt(o));case 6:return n.next=8,r(st(Object(ie.a)(a)));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},vt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:750,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function(){var i=Object(ae.a)(re.a.mark((function i(a,o){var s,c;return re.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=e.map((function(e){return e.key})),c={type:de,payload:{locs:t,cardsToFly:e,duration:n,delay:r}},i.next=4,a(it(s));case 4:return i.next=6,a(Xe(c,r+n));case 6:return e.forEach((function(e){return a(Ze(e.key))})),i.next=9,a(st(e));case 9:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}()},yt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:750,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function(){var i=Object(ae.a)(re.a.mark((function i(a,o){var s,c;return re.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=e.map((function(e){return e.key})),c={type:le,payload:{locs:t,cardsToShred:e,duration:n,delay:r}},i.next=4,a(it(s));case 4:return i.next=6,a(Xe(c,r+n));case 6:e.forEach((function(e){return a(Je(e.key))})),a(ut(e));case 8:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}()},gt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:750,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var a=Object(ae.a)(re.a.mark((function a(o,s){var c;return re.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c={type:de,payload:{locs:t,endLoc:b.at(25,window.innerHeight-25),cardsToFly:e,duration:r,delay:i}},!n){a.next=4;break}return a.next=4,o(it(e.map((function(e){return e.key}))));case 4:return a.next=6,o(Xe(c,i+r));case 6:return e.forEach((function(e){return o(Ze(e.key))})),a.next=9,o(at(e));case 9:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},mt=function(){return function(e,t){var n=t().player;e(Ot()),e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(t,n){t(Ct((function(){return ht(e)})))}}(n.player.cardsPerTurn))}},bt=function(){return function(e,t){e(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n(Ct((function(){return pt(e,t)})))}}())}},Ot=function(){return{type:Ne}},wt=function(){return{type:Ie}},jt=function(e){return{type:He,action:e}},xt=function e(){return function(){var t=Object(ae.a)(re.a.mark((function t(n,r){var i,a;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((i=r().battle.card.actionQueue).length>0)){t.next=12;break}return a=i[0],n({type:Fe}),t.next=6,se(150);case 6:return t.next=8,n(a());case 8:return t.next=10,n(e());case 10:t.next=13;break;case 12:n({type:Le});case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Ct=function(e){return function(){var t=Object(ae.a)(re.a.mark((function t(n,r){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r().battle.card.cardTableLock){t.next=4;break}n(jt(e)),t.next=9;break;case 4:return n({type:Re}),t.next=7,n(e());case 7:return t.next=9,n(xt());case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},kt=function(){return{type:Ve}},At={activateAimingCard:function(e){return{type:fe,key:e}},deleteAllCards:function(){return{type:ye}},deleteOneCard:function(e){return{type:ge,key:e}},selectCard:tt,unselectCard:nt,setHoveredCard:function(e){return{type:we,index:e}},clearHoveredCard:function(){return{type:je}},startBattle:function(){return function(){var e=Object(ae.a)(re.a.mark((function e(t,n){var r,i;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),i=r.player,e.next=3,t(at(i.player.deck));case 3:t(mt());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},playACard:function(e,t){return function(n){var r,i;e.getIsShred()?n((r=[e],i=[t],function(e,t){e(Ct((function(){return yt(r,i)})))})):n(function(e,t){return function(n,r){n(Ct((function(){return vt(e,t)})))}}([e],[t]))}},startTurn:mt,endTurn:bt,toggleCardSelectionPage:kt},St=i.a.createContext([window.innerWidth,window.innerHeight]),Dt=function(e){return function(t){return Object(u.jsx)(St.Consumer,{children:function(n){return Object(u.jsx)(e,Object(Q.a)({screenSize:n},t))}})}},Pt=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).cardEnter=function(t){return function(){t!==e.props.hoveredCard&&e.props.aimingCard===X.NONE&&e.props.setHoveredCard(t)}},e.cardMove=function(t){return function(){t!==e.props.hoveredCard&&e.props.aimingCard===X.NONE&&e.props.setHoveredCard(t)}},e.cardLeave=function(){e.props.aimingCard===X.NONE&&e.props.clearHoveredCard()},e.leaveTable=function(){},e.cardMouseUp=function(t){0===t.button&&e.props.selectedCard!==X.NONE&&e.props.mousePos.y<C(e.props.screenSize[1])&&e.props.playACard(V.getCardFromKey(e.props.selectedCard),e.props.mousePos)},e.cardMouseDown=function(t){return function(n){e.props.aimingCard===X.NONE&&(0===n.button?e.props.mousePos.y>=C(e.props.screenSize[1])&&e.props.selectCard(t):(n.preventDefault(),e.props.unselectCard()))}},e}return Object(h.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state!==t||this.props.selectedCard!==X.NONE||e.selectedCard!==X.NONE||this.props.hoveredCard!==e.hoveredCard||this.props.aimingCard!==e.aimingCard||this.props.cards!==e.cards||this.props.slideInAnimation!==e.slideInAnimation||this.props.slideOutAnimation!==e.slideOutAnimation||this.props.screenSize!==e.screenSize}},{key:"componentDidMount",value:function(){this.props.startBattle()}},{key:"render",value:function(){var e=this,t=It(this.state,this.props),n=(this.props.classes,this.props.slideInAnimation.map((function(e){return e.card.key}))),r=this.props.slideOutAnimation.map((function(e){return e.card.key}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m,{btnStyle:{position:"fixed",top:150,right:100,width:150},onClick:this.props.toggleCardSelectionPage,children:"Choose A Card"}),Object(u.jsx)(m,{btnStyle:{position:"fixed",top:200,right:100,width:150},onClick:this.props.startTurn,children:"Start Turn"}),Object(u.jsx)(m,{btnStyle:{position:"fixed",top:250,right:100,width:150},onClick:this.props.endTurn,children:"End Turn"}),t.map((function(t,i){var a=t.loc,o=t.o,s=t.deg,c=t.key,d=t.card,l=t.hoverOffsets,h=t.offsets;return Object(u.jsx)(z,{loc:a,origin:o,deg:s,card:d,isSelected:e.props.selectedCard===c,isHovered:e.props.hoveredCard===i&&e.props.selectedCard===X.NONE,isOnCards:e.props.hoveredCard>=0,isAiming:e.props.aimingCard===c,hoverOffsets:l,offsets:h,width:O,height:w,slideInProps:n.includes(c)?e.props.slideInAnimation[n.findIndex((function(e){return e===c}))]:null,slideOutProps:r.includes(c)?e.props.slideOutAnimation[r.findIndex((function(e){return e===c}))]:null,onMouseEnter:e.cardEnter(i),onMouseMove:e.cardMove(i),onMouseLeave:e.cardLeave,onMouseDown:e.cardMouseDown(c),onMouseUp:e.cardMouseUp,children:c},c)}))]})}}]),n}(r.Component),Et=Dt(K(Object(q.a)({overlay:{width:"100%"}})(Pt))),Nt=Object(te.b)((function(e){var t=e.battle,n=e.animation;return{cards:t.card.cards,aimingCard:t.card.aimingCard,hoveredCard:t.card.hoveredCard,selectedCard:t.card.selectedCard,slideInAnimation:n.animation.slideInAnimation,slideOutAnimation:n.animation.slideOutAnimation}}),At)(Et),It=function(e,t){var n=Object(y.a)(t.screenSize,2),r=n[0],i=n[1];return t.cards.map((function(e,n){var a,o=e.key;if(t.selectedCard===o)return{loc:(a=t.mousePos,a.subtract(b.at(70,99)).add(b.at(10,0))),o:b.at(70,99),deg:0,key:o,hoverOffsets:b.at(0,0),offsets:b.at(0,0),card:e};var s,c,u,d,l=n-(t.cards.length-1)/2,h=4*l/180*Math.PI,f=b.at((r-O)/2+x.y*Math.sin(h),j(i)+1.5*x.y*(1-Math.cos(h))),p=t.selectedCard===X.NONE?t.hoveredCard<0?-1:t.hoveredCard:t.cards.findIndex((function(e){return e.key===t.selectedCard})),v=n===p||p<0?0:n<p?-1:1;return t.aimingCard===o?{loc:b.at(f.x,C(i)),o:b.at(70,99),deg:0,key:o,hoverOffsets:b.at(0,0),offsets:b.at(0,0),card:e}:{loc:f,o:b.at(70,99),deg:4*l,key:o,hoverOffsets:b.at(0,1.5*x.y*(1-Math.cos(h))),offsets:b.at(v*(s=n,c=p,u=2,d=300,d/(u*Math.sqrt(2*Math.PI))*Math.exp(-.5*Math.pow((s-c)/u,2))),0),card:e}}))},Mt=i.a.memo((function(e){return e.children}),(function(){return!0})),_t=function(e){var t=Object(u.jsx)(Mt,{children:e.children});return e.providers.forEach((function(e){t=Object(u.jsx)(e,{children:t})})),Object(u.jsx)(u.Fragment,{children:t})},Tt=Dt(K(function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).handleMouseMove=function(t){var n;(null===(n=V.getCardFromKey(e.props.selectedCard))||void 0===n?void 0:n.getIsAiming())&&t.clientY<k(e.props.screenSize[1])&&e.props.setAimingCard(e.props.selectedCard),e.props.aimingCard!==X.NONE&&t.clientY>A(e.props.screenSize[1])&&e.props.unselectCard()},e.handleMouseUp=function(t){0===t.button||e.props.unselectCard()},e.handleKeyUp=function(t){var n=["1","2","3","4","5","6","7","8","9","0"];if(n.includes(t.key)){var r=n.findIndex((function(e){return e===t.key}));if(r>=e.props.cards.length)return;var i=e.props.cards[r].key;return e.props.aimingCard===i||e.props.selectedCard===i?e.props.unselectCard():void(e.props.cards[r].getIsAiming()&&e.props.mousePos.y<k(e.props.screenSize[1])?e.props.setAimingCard(i):e.props.selectCard(i))}switch(t.key){case"e":return e.props.endTurn();case"s":return e.props.startTurn();case"Escape":return e.props.unselectCard();default:return}},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp),window.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("keyup",this.handleKeyUp)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return Object(u.jsx)("div",{})}}]),n}(r.Component))),Rt=Object(te.b)((function(e){var t=e.battle;return{selectedCard:t.card.selectedCard,aimingCard:t.card.aimingCard,cards:t.card.cards}}),{setAimingCard:function(e){return{type:Oe,key:e}},unselectCard:nt,endTurn:bt,startTurn:mt,selectCard:tt})(Tt),Lt=n(80),Ht=Object(g.a)({svgContainer:{position:"absolute",left:0,top:0,width:"100vw",height:"100vh",overflow:"hidden"}}),Ft=function(e){var t=e.p1,n=e.p2,r=e.cp1,i=e.cp2,a=Ht({});return Object(u.jsx)("div",{className:a.svgContainer,children:Object(u.jsxs)("svg",{width:"100vw",height:"100vh",children:[Object(u.jsx)("marker",{id:"attackArrow",markerWidth:"10",markerHeight:"10",refX:"1",refY:"2",orient:"auto",markerUnits:"strokeWidth",children:Object(u.jsx)("path",{d:"M0,0 L0.5,2 L0,4 L4,2 z",fill:"maroon"})}),Object(u.jsx)("path",{d:"M ".concat(t.x," ").concat(t.y," C ").concat(r.x," ").concat(r.y,", ").concat(i.x," ").concat(i.y,", ").concat(n.x," ").concat(n.y),strokeDasharray:"20 5",stroke:"maroon",fill:"transparent",strokeWidth:"10",markerEnd:"url(#attackArrow)"})]})})},zt=Object(Lt.a)({arrow:{width:"100%"}}),Wt=K((function(e){var t=e.cards,n=e.aimingCard,r=e.mousePos,i=zt({}),a=V.getCardFromKey(n),o=P(),s=Object(y.a)(o,2),c=s[0],d=s[1];if(!(null===a||void 0===a?void 0:a.getIsAiming()))return!(null===a||void 0===a?void 0:a.getIsAiming())&&Object(u.jsx)("div",{});var l=4*(t.findIndex((function(e){return e.key===n}))-(t.length-1)/2)/180*Math.PI,h=b.at((c-O)/2+x.y*Math.sin(l)+70,C(d)+99);return Object(u.jsx)("div",{className:i.arrow,children:Object(u.jsx)(Ft,{p1:h,p2:r,cp1:h.subtract(b.at(.25*(r.x-h.x),200)),cp2:r.subtract(b.at(r.x-h.x,20))})})})),Ut=Object(te.b)((function(e){var t=e.battle;return{cards:t.card.cards,aimingCard:t.card.aimingCard}}))(Wt),Gt=Object(g.a)({backdrop:{position:"fixed",opacity:function(e){return e.show?1:0},top:0,left:0,height:"100%",width:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:200,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",overflowY:"scroll",transition:"opacity 0.2s ease-in"},cardctn:{padding:25}}),Qt=function(e){var t=e.show,n=e.cards,i=e.onContextMenu,a=Object(r.useState)(!0),o=Object(y.a)(a,2),s=o[0],c=o[1],d=Gt({show:t});Object(r.useEffect)((function(){t?c(!1):setTimeout((function(){return c(!0)}),200)}),[t]);return(!s||t)&&Object(u.jsx)("div",{className:d.backdrop,onContextMenu:function(e){e.preventDefault(),i()},children:n.map((function(e,t){return Object(u.jsx)("div",{className:d.cardctn,children:Object(u.jsx)(W,{card:e,width:182,height:258,loc:b.at(0,0),hasHoverEffect:!0})},e.key)}))})},Yt=Object(g.a)({img:{width:90,position:"fixed",right:30,bottom:24,transition:"transform 300ms ease-in",zIndex:function(e){return e.show?201:"auto"},"&:hover":{transform:"scale(1.15)"},"&:active":{transform:"rotate(0.4turn)"}},txt:{position:"fixed",right:75,bottom:20,fontSize:"1em",color:"#fff"}}),Kt=function(e){e.locs;var t=e.cards,n=e.showDiscardDeck,r=e.onClick,i=e.onContextMenu,a=Yt({show:n});return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:a.txt,children:t.length}),Object(u.jsx)("img",{className:a.img,src:"./assets/stack.png",alt:"stack",draggable:!1,onClick:r}),Object(u.jsx)(Qt,{cards:t,show:n,onContextMenu:i})]})},qt=Object(g.a)({img:{width:50,height:50,position:"fixed",right:50,bottom:120,zIndex:function(e){return e.show?201:"auto"},transition:"transform 300ms ease-in","&:hover":{transform:"scale(1.05)"}},txt:{position:"fixed",right:50,bottom:110,fontSize:"1em",color:"#fff"}}),Vt=function(e){e.locs;var t=e.cards,n=e.showShredDeck,r=e.onClick,i=e.onContextMenu,a=qt({show:n});return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{className:a.img,src:"./assets/trashbin.png",alt:"trashbin",draggable:!1,onClick:r}),Object(u.jsx)(Qt,{cards:t,show:n,onContextMenu:i})]})},Xt=Object(g.a)({img:{width:80,position:"fixed",left:30,bottom:40,transition:"transform 300ms ease-in",zIndex:function(e){return e.show?201:"auto"},"&:hover":{transform:"scale(1.15)"},"&:active":{transform:"rotate(-0.4turn)"}},txt:{position:"fixed",left:75,bottom:20,fontSize:"1em",color:"#fff"}}),Bt=function(e){e.locs;var t=e.cards,n=e.showDrawDeck,i=e.onClick,a=e.onContextMenu,o=Xt({show:n}),s=Object(r.useState)(oe(t)),c=Object(y.a)(s,2),d=c[0],l=c[1];return Object(r.useEffect)((function(){l(oe(t))}),[t]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:o.txt,children:t.length}),Object(u.jsx)("img",{className:o.img,src:"./assets/draw_stack.png",alt:"draw_stack",draggable:!1,onClick:i}),Object(u.jsx)(Qt,{cards:d,show:n,onContextMenu:a})]})},$t=Object(g.a)({img:{width:"100%",zIndex:-1}}),Jt=function(){var e=$t({});return Object(u.jsx)("img",{src:"./assets/office.png",alt:"background",className:e.img,draggable:!1})},Zt=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){this.props.classes;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Jt,{}),Object(u.jsx)(Vt,{showShredDeck:this.props.showShredPile,cards:this.props.shredPileCards,onClick:this.props.toggleShredPile,onContextMenu:this.props.toggleShredPile}),Object(u.jsx)(Kt,{showDiscardDeck:this.props.showDiscardPile,cards:this.props.discardPileCards,onClick:this.props.toggleDiscardPile,onContextMenu:this.props.toggleDiscardPile}),Object(u.jsx)(Bt,{showDrawDeck:this.props.showDrawPile,cards:this.props.drawPileCards,onClick:this.props.toggleDrawPile,onContextMenu:this.props.toggleDrawPile})]})}}]),n}(i.a.Component),en=Object(v.a)({})(Zt),tn=Object(te.b)((function(e){var t=e.battle;return{drawPileCards:t.card.drawPileCards,showDrawPile:t.battle.showDrawPile,discardPileCards:t.card.discardPileCards,showDiscardPile:t.battle.showDiscardPile,shredPileCards:t.card.shredPileCards,showShredPile:t.battle.showShredPile}}),{toggleDrawPile:function(){return{type:Me}},toggleDiscardPile:function(){return{type:_e}},toggleShredPile:function(){return{type:Te}},endTurn:bt})(en),nn=Object(g.a)({ctn:{opacity:function(e){return e.isExiting?"0":"1"},position:"fixed",top:function(e){return e.loc.y},left:function(e){return e.loc.x},transformOrigin:"center",transition:function(e){return"offset-distance ".concat(e.duration,"ms ease-in, transform ").concat(e.duration,"ms ease-out, opacity ").concat(e.duration,"ms ease-in")},transform:function(e){var t=e.isExiting,n=e.isShrink;return t&&n?"scale(0.01)":"scale(1.3)"},offsetPath:function(e){var t=e.width,n=e.height,r=e.loc,i=e.endLoc,a=e.innerWidth,o=e.innerHeight,s=i||b.at(a-25,o-25),c=b.at(0,0),u=s.subtract(r),d=b.at(t/2,n/2),l=c.add(d),h=u.add(d),f=c.subtract(b.at(0,o/2)).add(d),p=b.at(u.x/2,u.y/2).add(d);return"path('M ".concat(l.x," ").concat(l.y," C ").concat(f.x," ").concat(f.y,", ").concat(p.x," ").concat(p.y,", ").concat(h.x," ").concat(h.y,"')")},offsetDistance:function(e){return e.isExiting?"100%":"0%"},offsetRotate:"auto 90deg",backgroundImage:"url('./assets/papercard.png')",backgroundSize:"cover"}}),rn=function(e){var t=e.loc,n=e.endLoc,i=e.isShrink,a=e.duration,o=e.delay,s=e.card,c=e.width,d=e.height,l=Object(r.useState)(!1),h=Object(y.a)(l,2),f=h[0],p=h[1];Object(r.useEffect)((function(){var e;return o&&o>0?e=setTimeout((function(){return p(!0)}),o):p(!0),function(){clearTimeout(e)}}),[o]);var v=c||O,g=d||w,m=P(),j=Object(y.a)(m,2),x=j[0],C=j[1],k=nn({loc:t.subtract(b.at(v/2,g/2)).add(b.at(10,0)),endLoc:n,duration:a,isShrink:i,isExiting:f,width:v,height:g,innerWidth:x,innerHeight:C});return Object(u.jsx)("div",{className:k.ctn,children:Object(u.jsx)(W,{card:s,width:v,height:g,loc:b.at(0,0)})})},an=i.a.memo(rn,(function(){return!0})),on=Object(g.a)({ctn:{opacity:function(e){var t=e.isFading,n=e.isExiting;return t&&n?"0.2":"1"},position:"fixed",top:function(e){return e.loc.y},left:function(e){return e.loc.x},transformOrigin:"center",transition:function(e){return"offset-distance ".concat(e.duration,"ms ease-in-out, opacity ").concat(e.duration,"ms ease-in-out")},offsetPath:function(e){var t=e.width,n=e.height,r=e.loc,i=e.endLoc,a=e.innerWidth,o=e.innerHeight,s=i||b.at(a-25,o-25),c=b.at(0,0),u=s.subtract(r),d=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}(u,c),l=Math.random()*d/2,h=Math.random()*d/2,f=.52*Math.random()-.26,p=.52*Math.random()-.26,v=Math.atan2(u.y,u.x),y=b.at(t/2,n/2),g=c.add(y),m=u.add(y),O=b.at(l*Math.cos(f+v),l*Math.sin(f+v)).add(y),w=b.at(h*Math.cos(p+v),h*Math.sin(p+v)).add(y);return"path('M ".concat(g.x," ").concat(g.y," C ").concat(O.x," ").concat(O.y,", ").concat(w.x," ").concat(w.y,", ").concat(m.x," ").concat(m.y,"')")},offsetDistance:function(e){return e.isExiting?"100%":"0%"},offsetRotate:function(e){return e.offsetRotate||"auto"},backgroundImage:"url('./assets/papercard.png')",backgroundSize:"cover"}}),sn=function(e){var t=e.loc,n=e.endLoc,i=e.duration,a=e.delay,o=e.card,s=e.width,c=e.height,d=e.offsetRotate,l=e.isFading,h=Object(r.useState)(!1),f=Object(y.a)(h,2),p=f[0],v=f[1];Object(r.useEffect)((function(){var e;return a&&a>0?e=setTimeout((function(){return v(!0)}),a):v(!0),function(){clearTimeout(e)}}),[a]);var g=s||O,m=c||w,j=P(),x=Object(y.a)(j,2),C=x[0],k=x[1],A=on({loc:t.subtract(b.at(g/2,m/2)).add(b.at(10,0)),endLoc:n,duration:i,isExiting:p,width:g,height:m,offsetRotate:d,isFading:l,innerWidth:C,innerHeight:k});return Object(u.jsx)("div",{className:A.ctn,children:Object(u.jsx)(W,{card:o,width:g,height:m,loc:b.at(0,0)})})},cn=i.a.memo(sn,(function(){return!0})),un=Object(g.a)({}),dn=function(e){var t=e.duration,n=e.delay,r=e.noCards,i=e.width,a=e.height,o=(un(),P()),s=Object(y.a)(o,2),c=s[0],d=s[1];return Object(u.jsx)(u.Fragment,{children:new Array(r).fill(0).map((function(e,o){var s=500*Math.random();return Object(u.jsx)(cn,{loc:b.at(c-75,d-75),endLoc:b.at(75,d-75),duration:t-(o===r-1?500:s)+n,delay:(o===r-1?500:s)+n,width:i||30,height:a||42,isFading:!0},o)}))})},ln=i.a.memo(dn,(function(){return!0})),hn=Object(g.a)({ctn:{opacity:function(e){return e.isExiting?"0":"1"},position:"fixed",top:function(e){return e.loc.y},left:function(e){return e.loc.x},transformOrigin:"center",transition:function(e){return"transform ".concat(e.duration,"ms ease-out, opacity ").concat(e.duration,"ms ease-in")},transform:function(e){return e.isExiting?"scale(1.3) translateY(50px)":"scale(1.3)"},backgroundImage:"url('./assets/papercard.png')",backgroundSize:"cover"}}),fn=function(e){var t=e.loc,n=e.duration,i=e.delay,a=e.card,o=e.width,s=e.height,c=Object(r.useState)(!1),d=Object(y.a)(c,2),l=d[0],h=d[1];Object(r.useEffect)((function(){var e;return i&&i>0?e=setTimeout((function(){return h(!0)}),i):h(!0),function(){clearTimeout(e)}}),[i]);var f=o||O,p=s||w,v=hn({loc:t.subtract(b.at(f/2,p/2)).add(b.at(10,0)),duration:n,isExiting:l,width:f,height:p});return Object(u.jsx)("div",{className:v.ctn,children:Object(u.jsx)(W,{card:a,width:f,height:p,loc:b.at(0,0)})})},pn=i.a.memo(fn,(function(){return!0})),vn=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.shuffle);return Object(u.jsxs)(u.Fragment,{children:[this.props.flyOutProps.map((function(e){return Object(r.createElement)(an,Object(Q.a)(Object(Q.a)({},e),{},{key:"flyout-"+e.card.key+"-"+t}))})),this.props.shredProps.map((function(e){return Object(r.createElement)(pn,Object(Q.a)(Object(Q.a)({},e),{},{key:"shred-"+e.card.key+"-"+t}))})),this.props.shuffleDiscardToDrawProps&&Object(r.createElement)(ln,Object(Q.a)(Object(Q.a)({},this.props.shuffleDiscardToDrawProps),{},{key:"sdtd-"+t}))]})}}]),n}(i.a.Component),yn=Object(v.a)({})(vn),gn=Object(te.b)((function(e){var t=e.battle,n=e.animation;return{drawPileCards:t.card.drawPileCards,showDrawPile:t.battle.showDrawPile,discardPileCards:t.card.discardPileCards,showDiscardPile:t.battle.showDiscardPile,slideInProps:n.animation.slideInAnimation,slideOutProps:n.animation.slideOutAnimation,flyOutProps:n.animation.flyOutAnimation,shredProps:n.animation.shredAnimation,shuffleDiscardToDrawProps:n.animation.shuffleDiscardToDrawAnimation,round:t.battle.round,shuffle:t.battle.noShuffles}}),{})(yn),mn=Object(Lt.a)({img:{width:"100%",height:"100%"},ctn:{position:"fixed",left:function(e){return e.loc.x},top:function(e){return e.loc.y},width:72,height:72},val:{opacity:0,position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{opacity:1},transition:"200ms ease-out"},txt:{fontSize:28,color:"white",WebkitTextStroke:"2px #333",margin:"auto",fontFamily:"Friz"}}),bn=function(e){var t=mn(e),n=e.statusKey;return Object(u.jsxs)("div",{className:t.ctn,children:[Object(u.jsx)("img",{src:On[n].uri,alt:On[n].title,draggable:!1,className:t.img}),Object(u.jsx)("div",{className:t.val,children:Object(u.jsx)("div",{className:t.txt,children:e.value})})]})},On={mot:{title:"Motivation",uri:"./assets/motivation.png"},met:{title:"methodology",uri:"./assets/methodology.png"},res:{title:"results",uri:"./assets/results.png"}},wn=Object(Lt.a)({}),jn=function(e,t){var n=Object.keys(e).length;return Object.keys(e).map((function(r,i){var a=8*(i-(n-1)/2)/180*Math.PI,o=Object(y.a)(t,2),s=o[0],c=o[1];return{key:r,loc:b.at((s-72)/2+D.y*Math.sin(a),S(c)+D.y*(1-Math.cos(a))),val:e[r]}}))},xn=Dt((function(e){var t=e.mot,n=e.met,r=e.res,i=e.screenSize,a=(wn({}),jn({mot:t,met:n,res:r},i));return Object(u.jsx)(u.Fragment,{children:a.map((function(e,t){return Object(u.jsx)(bn,{statusKey:e.key,loc:e.loc,value:e.val},e.key)}))})})),Cn=Object(te.b)((function(e){e.battle;var t=e.player;return{mot:t.player.mot,met:t.player.met,res:t.player.res}}))(xn),kn=["./assets/card1.png","./assets/card2.png","./assets/card3.png","./assets/draw_stack.png","./assets/stack.png","./assets/paper_card.png","./assets/office.png"],An=[function(e){var t=i.a.useState(b.at(0,0)),n=Object(y.a)(t,2),r=n[0],a=n[1];return i.a.useEffect((function(){var e=function(e){a(b.at(e.clientX,e.clientY))};return window.addEventListener("mousemove",e),function(){return window.removeEventListener("mousemove",e)}}),[]),Object(u.jsx)(Y.Provider,{value:r,children:e.children})},function(e){var t=Object(r.useState)([window.innerWidth,window.innerHeight]),n=Object(y.a)(t,2),i=n[0],a=n[1];return Object(r.useEffect)((function(){var e=function(){a([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),Object(u.jsx)(St.Provider,{value:i,children:e.children})}],Sn=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"componentDidMount",value:function(){!function(){for(var e in $)(new Image).src=$[e].uri;kn.forEach((function(e){return(new Image).src=e}))}()}},{key:"render",value:function(){var e=this.props.classes;return Object(u.jsxs)(_t,{providers:An,children:[Object(u.jsxs)("div",{id:"map-area",className:e.canvasContainer,onContextMenu:function(e){return e.preventDefault()},children:[Object(u.jsx)(Cn,{}),Object(u.jsx)(Nt,{}),Object(u.jsx)(Ut,{}),Object(u.jsx)(gn,{}),Object(u.jsx)(tn,{})]}),Object(u.jsx)(Rt,{})]})}}]),n}(i.a.Component),Dn=Object(v.a)({canvasContainer:{width:"100vw",height:"100vh",overflow:"hidden"}})(Sn),Pn=function(){return{type:qe}},En=Object(g.a)({topbar:{position:"fixed",top:0,left:0,width:"100%",background:"linear-gradient(to left, rgba(0, 128, 128, 0.2), rgba(0, 128, 128, 0) 30%)",height:36,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",zIndex:300},status:{width:200,height:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},icon:{width:36,height:36,padding:0,marginRight:0,marginLeft:20,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},text:{fontWeight:"bold",color:"darkcyan"},moneytext:{fontWeight:"bold",color:"orange"},btn:{width:"10%"}}),Nn=Object(te.b)(null,{toggleDeckOfCards:Pn})((function(e){e.toggleDeckOfCards;var t=En({});return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:t.topbar,onContextMenu:function(e){return e.preventDefault()},children:Object(u.jsxs)("div",{className:t.status,children:[Object(u.jsx)("div",{className:t.icon,children:Object(u.jsx)("img",{src:"./assets/sanity.png",alt:"sanity",style:{height:28,width:28},draggable:!1})}),Object(u.jsx)("div",{className:t.text,children:"100"}),Object(u.jsx)("div",{className:t.icon,children:Object(u.jsx)("img",{src:"./assets/money.png",alt:"money",style:{height:24,width:24},draggable:!1})}),Object(u.jsx)("div",{className:t.moneytext,children:"99"})]})})})})),In=Object(g.a)({backdrop:{position:"fixed",opacity:function(e){return e.show?1:0},top:0,left:0,height:"100%",width:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:200,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",overflowY:"scroll",transition:"opacity 0.2s ease-in"},cardctn:{padding:25}}),Mn=function(e){var t=e.show,n=e.cards,i=e.onClick,a=e.onContextMenu,o=Object(r.useState)(!0),s=Object(y.a)(o,2),c=s[0],d=s[1],l=Object(r.useState)(ee(3)),h=Object(y.a)(l,2),f=h[0],p=h[1],v=n||f,g=In({show:t});Object(r.useEffect)((function(){t?(n||p(ee(3)),d(!1)):setTimeout((function(){return d(!0)}),200)}),[t,n]);return(!c||t)&&Object(u.jsx)("div",{className:g.backdrop,onContextMenu:function(e){e.preventDefault(),a()},children:v.map((function(e,t){return Object(u.jsx)("div",{className:g.cardctn,onClick:i(e),children:Object(u.jsx)(W,{card:e,width:182,height:258,loc:b.at(0,0),hasHoverEffect:!0})},e.key)}))})},_n=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this;this.props.classes;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Qt,{show:this.props.showDeck,cards:this.props.deck,onContextMenu:this.props.toggleDeckOfCards}),Object(u.jsx)(Mn,{show:this.props.showCardSelectionPage,onContextMenu:this.props.toggleCardSelectionPage,onClick:function(t){return function(n){e.props.toggleCardSelectionPage(),e.props.addNewCardsOutsideDeck([t],[b.at(window.innerWidth/2,window.innerHeight/2)])}}})]})}}]),n}(i.a.Component),Tn=Object(v.a)({})(_n),Rn=Object(te.b)((function(e){var t=e.setting,n=e.player,r=e.game;return{showDeck:t.setting.showDeck,deck:n.player.deck,showCardSelectionPage:r.game.showCardSelectionPage}}),{toggleDeckOfCards:Pn,toggleCardSelectionPage:kt,addNewCardsOutsideDeck:function(e,t){return function(n,r){n(Ct((function(){return gt(e,t)})))}}})(Tn),Ln=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){this.props.classes;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Nn,{}),Object(u.jsx)(Dn,{}),Object(u.jsx)(Rn,{})]})}}]),n}(i.a.Component),Hn=Object(v.a)({})(Ln);var Fn=function(){return Object(u.jsx)(s.a,{basename:"/proj2021",children:Object(u.jsxs)(c.c,{children:[Object(u.jsx)(c.a,{path:"/",exact:!0,component:d}),Object(u.jsx)(c.a,{path:"/main",component:Hn}),Object(u.jsx)(c.a,{render:function(){return Object(u.jsx)("h1",{children:"404 Not Found"})}})]})})},zn=(n(65),n(16)),Wn=function(){function e(){Object(l.a)(this,e)}return Object(h.a)(e,null,[{key:"init",value:function(){return{slideInAnimation:[],slideOutAnimation:[],flyOutAnimation:[],shredAnimation:[],shuffleDiscardToDrawAnimation:null}}},{key:"copy",value:function(e){return{slideInAnimation:e.slideInAnimation,slideOutAnimation:e.slideOutAnimation,flyOutAnimation:e.flyOutAnimation,shredAnimation:e.shredAnimation,shuffleDiscardToDrawAnimation:e.shuffleDiscardToDrawAnimation}}},{key:"playAnimation",value:function(t,n){switch(n.type){case ce:return e.slideToHand(t,n.payload);case ue:return e.slideFromHand(t,n.payload);case de:return e.flyOut(t,n.payload);case le:return e.Shred(t,n.payload);case he:return e.shuffleDiscardToDraw(t,n.payload);default:return t}}},{key:"withNewAnimation",value:function(t,n){var r=e.copy(t);return r.slideInAnimation=n.slideInAnimation||r.slideInAnimation,r.slideOutAnimation=n.slideOutAnimation||r.slideOutAnimation,r.flyOutAnimation=n.flyOutAnimation||r.flyOutAnimation,r.shredAnimation=n.shredAnimation||r.shredAnimation,r}},{key:"slideToHand",value:function(t,n){var r=n.cardsToAdd,i=n.cards,a=n.duration,o=n.delay;if(!(null===r||void 0===r?void 0:r.length))return t;var s=t.slideInAnimation.concat(r.map((function(e,t){return{isToHand:!0,isExpand:!0,handIdx:i.length+t,noCardsInHand:i.length+r.length,delay:o*t,duration:a,card:e}})));return e.withNewAnimation(t,{slideInAnimation:s})}},{key:"removeSlideInAnimation",value:function(t,n){var r=t.slideInAnimation.filter((function(e){return e.card.key!==n}));return e.withNewAnimation(t,{slideInAnimation:r})}},{key:"slideFromHand",value:function(t,n){var r=n.keysToDelete,i=n.cards,a=n.delay,o=n.duration;if(!(null===r||void 0===r?void 0:r.length))return t;var s=i.map((function(e){return e.key})),c=t.slideOutAnimation.concat(r.map((function(e,t){var n=s.findIndex((function(t){return t===e}));return{isFromHand:!0,isShrink:!0,handIdx:n,noCardsInHand:i.length,delay:a,duration:o,card:i[n]}})));return e.withNewAnimation(t,{slideOutAnimation:c})}},{key:"removeSlideOutAnimation",value:function(t,n){var r=t.slideOutAnimation.filter((function(e){return e.card.key!==n}));return e.withNewAnimation(t,{slideOutAnimation:r})}},{key:"flyOut",value:function(t,n){var r=n.locs,i=n.cardsToFly,a=n.duration,o=n.delay,s=n.endLoc;if(!(null===i||void 0===i?void 0:i.length))return t;var c=t.flyOutAnimation.concat(i.map((function(e,t){return{loc:r[t],endLoc:s,isShrink:!0,duration:a,delay:o,card:e}})));return e.withNewAnimation(t,{flyOutAnimation:c})}},{key:"removeFlyOutAnimation",value:function(t,n){var r=t.flyOutAnimation.filter((function(e){return e.card.key!==n}));return e.withNewAnimation(t,{flyOutAnimation:r})}},{key:"Shred",value:function(t,n){var r=n.locs,i=n.cardsToShred,a=n.duration,o=n.delay;if(!(null===i||void 0===i?void 0:i.length))return t;var s=t.shredAnimation.concat(i.map((function(e,t){return{loc:r[t],duration:a,delay:o,card:e}})));return e.withNewAnimation(t,{shredAnimation:s})}},{key:"removeShredAnimation",value:function(t,n){var r=t.shredAnimation.filter((function(e){return e.card.key!==n}));return e.withNewAnimation(t,{shredAnimation:r})}},{key:"shuffleDiscardToDraw",value:function(t,n){var r=e.copy(t),i=n.noCards,a={duration:n.duration,delay:n.delay,noCards:i||10};return r.shuffleDiscardToDrawAnimation=a,r}},{key:"removeShuffleDiscardToDrawAnimation",value:function(t){var n=e.copy(t);return n.shuffleDiscardToDrawAnimation=null,n}}]),e}(),Un=Object(zn.b)({animation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn.init(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return Wn.playAnimation(e,null===t||void 0===t?void 0:t.animation);case We:return Wn.removeSlideInAnimation(e,null===t||void 0===t?void 0:t.key);case Ue:return Wn.removeSlideOutAnimation(e,null===t||void 0===t?void 0:t.key);case Ge:return Wn.removeFlyOutAnimation(e,null===t||void 0===t?void 0:t.key);case Qe:return Wn.removeShredAnimation(e,null===t||void 0===t?void 0:t.key);case Ye:return Wn.removeShuffleDiscardToDrawAnimation(e);default:return e}}}),Gn=function(){function e(){Object(l.a)(this,e)}return Object(h.a)(e,null,[{key:"init",value:function(){return{cardTableLock:!1,actionQueue:[],drawPileCards:[],discardPileCards:[],cards:[],shredPileCards:[],aimingCard:X.NONE,selectedCard:X.NONE,hoveredCard:-1}}},{key:"copy",value:function(e){return{cardTableLock:e.cardTableLock,actionQueue:e.actionQueue,drawPileCards:e.drawPileCards,discardPileCards:e.discardPileCards,cards:e.cards,shredPileCards:e.shredPileCards,aimingCard:e.aimingCard,selectedCard:e.selectedCard,hoveredCard:e.hoveredCard}}},{key:"withNewArray",value:function(t,n){var r=e.copy(t);return r.actionQueue=n.actionQueue||r.actionQueue,r.cards=n.cards||r.cards,r.drawPileCards=n.drawPileCards||r.drawPileCards,r.discardPileCards=n.discardPileCards||r.discardPileCards,r.shredPileCards=n.shredPileCards||r.shredPileCards,r}},{key:"clearSecondaryStates",value:function(e){e.aimingCard=X.NONE,e.selectedCard=X.NONE,e.hoveredCard=-1}},{key:"addOneCard",value:function(t,n){n=n||Math.floor(1e4*Math.random())+"";var r=t.cards.concat(V.init(n,n+"-"+Math.floor(1e3*Math.random())));return e.withNewArray(t,{cards:r})}},{key:"addManyCards",value:function(t,n){n=n||new Array(5).fill(0).map((function(){return Math.floor(1e4*Math.random())+""}));var r=t.cards.concat(n.map((function(e){return V.init(e,e+"-"+Math.floor(1e3*Math.random()))})));return e.withNewArray(t,{cards:r})}},{key:"deleteAllCards",value:function(t){var n=e.withNewArray(t,{cards:[]});return e.clearSecondaryStates(n),n}},{key:"deleteOneCard",value:function(t,n){var r=e.withNewArray(t,{cards:t.cards.filter((function(e){return e.key!==n}))});return e.clearSecondaryStates(r),r}},{key:"selectCard",value:function(t,n){var r=e.copy(t);return e.clearSecondaryStates(r),r.selectedCard=n,r}},{key:"unselectCard",value:function(t){var n=e.copy(t);return e.clearSecondaryStates(n),n}},{key:"setAimingCard",value:function(t,n){var r=e.copy(t);return e.clearSecondaryStates(r),r.aimingCard=n,r}},{key:"setHoveredCard",value:function(t,n){var r=e.copy(t);return r.hoveredCard=n,r}},{key:"clearHoveredCard",value:function(t){var n=e.copy(t);return n.hoveredCard=-1,n}},{key:"addCardsToHand",value:function(t,n){var r=t.cards.concat(n.map((function(e){return e.copy()}))),i=e.withNewArray(t,{cards:r});return e.clearSecondaryStates(i),i}},{key:"deleteCardsFromHand",value:function(t,n){var r=e.withNewArray(t,{cards:t.cards.filter((function(e){return!n.includes(e.key)}))});return e.clearSecondaryStates(r),r}},{key:"addCardsToDrawPile",value:function(t,n){var r=oe(n),i=t.drawPileCards.concat(r.map((function(e){return e.copy()}))),a=oe(i);return e.withNewArray(t,{drawPileCards:a})}},{key:"deleteCardsFromDrawPile",value:function(t,n){return e.withNewArray(t,{drawPileCards:t.drawPileCards.filter((function(e){return!n.includes(e.key)}))})}},{key:"addCardsToDiscardPile",value:function(t,n){var r=t.discardPileCards.concat(n.map((function(e){return e.copy()})));return e.withNewArray(t,{discardPileCards:r})}},{key:"deleteCardsFromDiscardPile",value:function(t,n){return e.withNewArray(t,{discardPileCards:t.discardPileCards.filter((function(e){return!n.includes(e.key)}))})}},{key:"addCardsToShredPile",value:function(t,n){var r=t.shredPileCards.concat(n.map((function(e){return e.copy()})));return e.withNewArray(t,{shredPileCards:r})}},{key:"deleteCardsFromShredPile",value:function(t,n){return e.withNewArray(t,{shredPileCards:t.shredPileCards.filter((function(e){return!n.includes(e.key)}))})}},{key:"lockCardTable",value:function(t){var n=e.copy(t);return console.log("lock"),n.cardTableLock=!0,n}},{key:"unlockCardTable",value:function(t){var n=e.copy(t);return console.log("unlock"),n.cardTableLock=!1,n}},{key:"enqueueActionQueue",value:function(t,n){return e.withNewArray(t,{actionQueue:t.actionQueue.concat(n)})}},{key:"dequeueActionQueue",value:function(t){return e.withNewArray(t,{actionQueue:t.actionQueue.slice(1)})}}]),e}(),Qn=function(){function e(){Object(l.a)(this,e)}return Object(h.a)(e,null,[{key:"init",value:function(){return{round:0,noShuffles:0,showDrawPile:!1,showDiscardPile:!1,showShredPile:!1}}},{key:"copy",value:function(e){return{round:e.round,noShuffles:e.noShuffles,showDrawPile:e.showDrawPile,showDiscardPile:e.showDiscardPile,showShredPile:e.showShredPile}}},{key:"startRound",value:function(t){var n=e.copy(t);return n.round++,n}},{key:"incrementShuffle",value:function(t){var n=e.copy(t);return n.noShuffles++,n}},{key:"toggleDrawPile",value:function(t){var n=e.copy(t);return n.showDrawPile=!n.showDrawPile,n}},{key:"toggleDiscardPile",value:function(t){var n=e.copy(t);return n.showDiscardPile=!n.showDiscardPile,n}},{key:"toggleShredPile",value:function(t){var n=e.copy(t);return n.showShredPile=!n.showShredPile,n}}]),e}(),Yn=Object(zn.b)({card:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn.init(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Gn.setAimingCard(e,t.key);case pe:return Gn.addOneCard(e,null===t||void 0===t?void 0:t.key);case ve:return Gn.addManyCards(e,null===t||void 0===t?void 0:t.keys);case ye:return Gn.deleteAllCards(e);case ge:return Gn.deleteOneCard(e,null===t||void 0===t?void 0:t.key);case me:return Gn.selectCard(e,t.key);case be:return Gn.unselectCard(e);case Oe:return Gn.setAimingCard(e,t.key);case we:return Gn.setHoveredCard(e,t.index);case je:return Gn.clearHoveredCard(e);case xe:return Gn.addCardsToHand(e,t.cards);case Ce:return Gn.deleteCardsFromHand(e,null===t||void 0===t?void 0:t.keys);case ke:return Gn.addCardsToDrawPile(e,t.cards);case Ae:return Gn.deleteCardsFromDrawPile(e,null===t||void 0===t?void 0:t.keys);case Se:return Gn.addCardsToDiscardPile(e,t.cards);case De:return Gn.deleteCardsFromDiscardPile(e,null===t||void 0===t?void 0:t.keys);case Pe:return Gn.addCardsToShredPile(e,t.cards);case Ee:return Gn.deleteCardsFromShredPile(e,null===t||void 0===t?void 0:t.keys);case Re:return Gn.lockCardTable(e);case Le:return Gn.unlockCardTable(e);case He:return Gn.enqueueActionQueue(e,null===t||void 0===t?void 0:t.action);case Fe:return Gn.dequeueActionQueue(e);default:return e}},battle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn.init(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Qn.startRound(e);case Ie:return Qn.incrementShuffle(e);case Me:return Qn.toggleDrawPile(e);case _e:return Qn.toggleDiscardPile(e);case Te:return Qn.toggleShredPile(e);default:return e}}}),Kn=function(){function e(){Object(l.a)(this,e)}return Object(h.a)(e,null,[{key:"init",value:function(){return{showCardSelectionPage:!1}}},{key:"copy",value:function(e){return{showCardSelectionPage:e.showCardSelectionPage}}},{key:"toggleCardSelectionPage",value:function(t){var n=e.copy(t);return n.showCardSelectionPage=!n.showCardSelectionPage,n}}]),e}(),qn=Object(zn.b)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn.init(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return Kn.toggleCardSelectionPage(e);default:return e}}}),Vn=function(){function e(){Object(l.a)(this,e)}return Object(h.a)(e,null,[{key:"init",value:function(){var e=new Array(10).fill(0).map((function(e,t){var n=Math.random()>.5;return t<5?n?"quick_reference":"explain":n?"smile_and_nod":"calm"})),t=[],n=0,r=0,i=0,a=0;return e.forEach((function(e){switch(e){case"quick_reference":n++,t.push(V.init(e,e+"-"+n));break;case"explain":r++,t.push(V.init(e,e+"-"+r));break;case"smile_and_nod":i++,t.push(V.init(e,e+"-"+i));break;case"calm":a++,t.push(V.init(e,e+"-"+a))}})),{mot:60,met:15,res:5,san:200,hIdx:1,$$:2e3,cardsPerTurn:6,maxCardsInHand:10,deck:t}}},{key:"copy",value:function(e){return{mot:e.mot,met:e.met,res:e.res,san:e.san,hIdx:e.hIdx,$$:e.$$,cardsPerTurn:e.cardsPerTurn,maxCardsInHand:e.maxCardsInHand,deck:e.deck}}},{key:"addOneCardToDeck",value:function(t,n){for(var r=e.copy(t),i=1,a=r.deck.map((function(e){return e.key})),o=n+"-"+i++;a.includes(o);)o=n+"-"+i++;return r.deck.concat(V.init(n,o)),r}}]),e}(),Xn=Object(zn.b)({player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn.init(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke:return Vn.addOneCardToDeck(e,t.id);default:return e}}}),Bn=function(){function e(){Object(l.a)(this,e)}return Object(h.a)(e,null,[{key:"init",value:function(){return{showDeck:!1}}},{key:"copy",value:function(e){return{showDeck:e.showDeck}}},{key:"toggleShowDeck",value:function(t){var n=e.copy(t);return n.showDeck=!n.showDeck,n}}]),e}(),$n=Object(zn.b)({setting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn.init(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return Bn.toggleShowDeck(e);default:return e}}}),Jn=n(46),Zn=n(81),er=zn.c,tr=Object(zn.b)({animation:Un,battle:Yn,game:qn,player:Xn,setting:$n}),nr=Object(zn.d)(tr,er(Object(zn.a)(Jn.a)));o.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsxs)(te.a,{store:nr,children:[Object(u.jsx)(Zn.a,{}),Object(u.jsx)(Fn,{})]})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.fedaf464.chunk.js.map